
## 介绍

内容分发网络（ Content Delivery Network ，CDN ）是构建在会联网 TCP/IP 四层模型之上的对用户透明的覆盖网（ Overlay Network ）

该网络通过在全球范围内分布式地部署边缘服务器，将各类互联网内容从互联网中心缓存到靠近用户的边缘服务器上，从而降低用户访问时延并大幅度减少穿越互联网核心网的流量，达到优化互联网流量分布，进而提升终端用户服务质量的目的。

CDN 提供了三个最核心的能力：

- 动态内容加速
- 静态内容加速
- 安全防护

下面一一介绍这些能力。

## CDN 是如何实现的

### DNS 调度

域名接入 CDN 后，会自动给域名生成一个 CNAME （ 接入域 ），然后用户把域名配置到 CNAME 上，这样最终的域名解析就又阿里云的权威 DNS 服务器来负责，该权威 DNS 服务器会根据调度策略将域名解析出 CDN 节点的 IP 地址。

### 其他（TODO）
## CDN 核心能力

### 动态内容加速

对于动态内容（ 即不能缓存的内容，如电商实时推荐、账号密码认证、金融数据等 ），可以通过优化路由来进行加速。对静态内容，可以进一步通过缓存来实现以存储换带宽的目的。

动态加速的核心技术主要包括应用层路由路径优化以及传输层协议栈（ 如 TCP ）优化。

**实现动态加速的原理主要是自建节点网络，节点网络探测，选择较优线路。**

**协议层面的优化手段是增加额外的中继节点来减少点到点的距离，可以让 TCP 发包有更小的 RTT，从而更快地对丢包进行反馈并加速窗口的打开**
### 静态内容加速

当没有 CDN 加速时，大量的用户请求需要穿越互联网骨干网才能回去到源站的内容。由于网络距离远以及骨干网的网络拥塞问题，端到端的请求时延会非常长。这回严重影响用户体验。

当使用 CDN 加速时，由于大量的请求在边缘就可以找到其所需的内容，因此穿越互联网骨干网的流量大幅减少。这样既有效地减轻了骨干网的流量压力，也节省了服务提供商的带宽成本。同时用户访问内容更加快速，提升了用户的体验。

### 安全防护

以 DDos 攻击举例，当大规模攻击流量来袭时，CDN 的大量边缘节点（ 200 Tb/s 以上的带宽设备 ）可以承受攻击流量，再结合 CDN 高性能流量清洗设备过滤掉攻击流量，如此一来只有真正合法用户请求才会的到达内容源站。这样便可以使内容源站免受攻击的影响。

## 总结


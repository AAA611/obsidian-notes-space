

## 微前端项目

1、微前端
2、CDN 优化
3、通过 externals 配置实现依赖复用。
3、多页签及 LRU 优化
4、项目的物料库组件开发、物料库维护

### FQA

Q：项目中是如何复用依赖的？
A：一些通用的组件、请求库等通过 npm 包的形式复用。主、子应用的公共依赖如 Vue、Vue Router 等通过 externals+CDN 的方式复用。

Q：为什么项目中的 elementui 不使用 externals+CDN 进行复用呢？
A：因为组件按需引入，通过 CDN 的方式则无法进行按需引入

Q：为什么选择 qiankun
A：在选择一个微前端框架时，我们可能会考虑下面几点：
- **适用性**，框架是否能够满足业务开发需要，这一点是比较重要的，毕竟一切以业务为基础。<mark style="background: #BBFABBA6;">qiankun 可以满足</mark>
- **稳定性**，框架是否是比较可信的，这一般要求框架是大厂出品或者在 github 上面有较高的 star。 <mark style="background: #BBFABBA6;">qiankun 孵化于蚂蚁集团，并且在内部有多个应用的成功案例</mark>
- **可落地**：框架的可用性最好已经经过市场的验证、大厂背书。<mark style="background: #BBFABBA6;">qiankun 在大厂内部有多个成功案例</mark>
- **接入时的复杂性、侵入性**：接入微前端框架时是否需要做大量的改造？对现有项目会造成什么样的影响？是否可预估？<mark style="background: #BBFABBA6;">由于时新项目重构为微前端，所以不存在对老项目的侵入性问题，而且 qiankun 方案基本上也做到了开箱即用，改动较小。</mark>
A：而且 qiankun 被较多团队或公司使用，很多坑都已经被踩过，而且基本上有一些可接受的处理方案。官方文档也有一些 FQA 可以快速解决在接入时遇到的问题。

wujie 是一个基于 iframe + webcomponent 的方案。

Q：qiankun 的样式隔离会有什么问题？
A：[[qiankun 样式隔离]] qiankun 有两套样式隔离
- 基于 shadowDOM 实现严格的样式隔离，外部无法影响内部，内部也无法影响外部。
	- 可能全局样式无法生效。
	- ShadowDOM 中的事件无法冒泡到外部（react 的事件委托可能会有问题）
	- 一些组件如弹框需要挂载到 body 下面，由于不在 shadowDOM 中了，所以 shadowDOM 中的样式对弹框组件不生效。
- 基于 scope CSS 的样式隔离：TODO

Q：你在使用 qiankun 的时候有没有遇到什么问题？
A：

## 全球售后项目-Webpack 插件开发

文章链接：[[我的 Webpack Plugin 之 API 权限分析工具]]

## 全球售后项目-上线时国际化脚本的开发与优化

## 全球售后项目-WebSocket + SharedWoker

1、Websocket 协议，心跳检测
2、SharedWoker 实现多 tab 共享同一个 websocket 连接
3、更精确的计时器实现通话计时

## 全球售后项目-国际化的实现方案

国际化实现方案是，前端在使用文案的地方使用 key。
key 的国际化文案都存在服务端，当切换语言时拉取对应语种的国际化配置，重新加载页面实现切换。
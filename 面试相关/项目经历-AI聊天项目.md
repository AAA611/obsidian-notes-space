项目描述：一个用于公司内部员工使用的 AI 聊天工具，最初是为了探索 AI 在对帮助产品经理方面的实践。
人员规模：前端 1，后端 1
技术栈：Vue 3、Vite、Pinia、TypeScript、EventSource
负责内容：
- 项目从 0 到 1 的搭建、功能开发
- 基于 EventSource 的聊天功能的开发
- 聊天功能插件开发
- 基于 Docker、 Nginx、Jenkins 实现简单的项目自动化部署工作流
- 聊天功能的浏览器插件开发、公共逻辑抽离复用。
难点与亮点：
- 使用 IndexDB 代替 LocalStorage 的对话内容存储
- 聊天插件系统的开发，让后面功能扩展变得轻松简单
- 聊天功能核心逻辑与组件的抽离、封装，让聊天功能在多个项目中轻松实现复用。
- 基于 ShadowDOM 的浏览器插件内容样式隔离。

需要补足的知识点：

1、Docker 、 Nginx、jenkins
2、IndexDB
3、抽离了哪些可以公用的逻辑与组件？（包含 Vue 2 与  Vue 3）

## 可能会问到的问题

### 详细说说聊天功能是怎么开发的

基于 [[Server-sent Event 服务端推送事件]] 的服务端消息响应

### 聊天插件指的是什么？

聊天的部分可能需要根据用户选择的功能场景（如选择定制的 AI 角色、产品）不同调用它不同的聊天接口，而且页面上的 UI 渲染会不一样。

基于这个场景设计了一个功能插件机制，插件可以是一个 JS 对象或者是一个组件。

另外还有一个插件管理组件（插件容器），负责 1、插件选择列表部分的渲染；2、当前正在使用哪个插件。选择插件时的插件卸载、安装工作。

这样做的好处是在后续添加新的功能式会非常方便，组件在 plugins 文件夹中根据插件的要求编写新的组件即可。

### 如何使用 docker + jenkins 构建 CI/CD 的 ？以及这样做有什么好处？


### 抽离了哪些可复用的逻辑？

1、聊天窗口组件，主要有聊天记录组件与聊天对话输入框组件，传入相应的 props 如 chatRecordList 即可
2、聊天逻辑 useChat hook 的封装，这个 hook 返回了两个对象、chatRecordList 等，分别是 user 与 ai，各自有 say 方法来进行聊天。

useChat 中有关于聊天记录保存的逻辑

### 使用 IndexDB 来代替 LocalStorage 有哪些优点？

1、容量，IndexDB 相比于 LS 有更大的存储容量
2、异步调用，不阻塞主线程
3、<mark style="background: #FF5582A6;">TODO</mark>：IndexDB 可以建立索引，详细谈谈建立索引的作用。

### 浏览器插件中基于 ShadowDOM 的样式隔离。

[[ShadowDOM 入门]]
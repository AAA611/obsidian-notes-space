
## 按值传递与按引用传递

### 按值传递

按值传递，传递的是副本

![[image-20240807173425568.png]]

如上图所示，如果外部定义一个对象 obj，这个对象的指针地址是上图中的绿色部分，我们记为 p1。
当我们把 obj 传递到一个函数中时，在函数中我们拿到的 obj 参数就是 p2。

此时在函数中如果我们直接操作 p2 所指向的对象，那么改动会反映到外部的 obj 对象。
但如果在函数中对 obj 进行重新赋值，那么此时两个引用指向不同的内容，再做改动就不会影响到外部的对象了
### 按引用传递

按引用传递，传递的是参数的引用地址（不是副本）

![[image-20240807173730465.png]]



如上图所示，如果外部定义一个对象 obj，这个对象的指针地址是上图中的绿色部分，我们记为 p1。
当我们把 obj 传递到一个函数中时，在函数中我们拿到的 obj 参数就是 p1。

所以在函数中对 obj 的所有修改都会影响到外部的 obj，因为它们是同一个引用同一个指针地址。

## JS 的函数传值机制

**JS 中的参数传递方式是按值传递的**

⭐ 如果传递的是一个 JS 基础数据类型，则函数接收的参数是这个基础数据类型的一个拷贝

⭐ 如果传递的是一个 JS 引用类型的数据，如对象、数组等等，那么函数接收的参数是这个对象的另一个引用。

下图展示了 JS 传递对象参数的引用关系

![[image-20240807173425568.png]]


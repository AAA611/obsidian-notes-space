## 一、single-spa 有哪些不足
从 [[single-spa 概览]] 中可以大概了解到 single-spa 所做的事情非常简单。只是对注册的应用做一些初始化、挂载、卸载的管理操作。如果要用到实际的项目中的话仍然存在很多问题。

1. **对微应用的侵入性太强**
		singlle-spa 使用的是 JS Entry 的方法来加载子应用，子应用作为一个 JS 模块被加载。这就是意味着我们需要将子应用打包成一个 JS 文件，部署到服务器上，然后再主应用中配置子应用的加载地址。
		这样做的最大缺点就是无法使用常见的打包优化，如代码分割、按需加载等等。
2. **样式隔离**
		single-spa 未做样式隔离相关的工作
3. **JS 隔离**
		single-spa 未做 JS 运行时隔离相关的工作，子应用之间、主子应用之间的代码执行、变量声明可能会互相影响
4. **应用间通信**
		single-spa 没有提供较为完整的应用见通信机制，只是在记载子应用时可以注入一些信息

## 二、为什么是 qiankun
qiankun 是基于 single-spa 二次封装的微前端框架。相比于 single-spa ，qiankun 在一些重要的地方加入了解决方案，下面我们来详细看看。

1. **基于 HTML Entry**
		qiankun 使用的是 HTML Entry 来加载子应用（[[qiankun 原理之 import-html-entry]]），使用的是 import-html-entry 这个第三方库。子应用只需要提供一个 html 文件，qiankun 就可将其集成到 主应用中。像 iframe 一般方便。
2. **样式隔离**
		qiankun 提供了样式隔离的解决方案：
			1、严格的样式隔离，为每个微应用的容器包裹上一个 shadowDOM 节点。
			2、动态改写 css 选择器来实现样式隔离
3. **JS 隔离**
		qiankun 提供了运行时沙箱环境，分为 JS 沙箱和样式沙箱
4. **应用间通信**
		qiankun 通过发布订阅模式实现应用间通信

## 一、介绍
`Webpack` 大概可分为三个主要流程，分别是：
1. 初始化阶段
2. 构建阶段
3. 生成产物阶段

### 1-1、初始化阶段
1. 初始化参数：从配置文件、`Shell` 命令行中读取配置合并得到最终的配置对象
2. 创建 `Compiler`：用第一步得到的参数创建 `Compiler` 实例对象
3. 初始化编译环境：初始化内置插件、加载外部配置的插件等等
4. 启动编译：`Compiler.run()`
### 1-2、构建阶段
1. 确定构建入口：根据配置对象找到 `entry`
2. 编译模块：从入口开始递归编译模块。期间需要调用 `Loader` 来解析模块为 `JS` 模块，`JS` 模块代码转换为 `AST`，找到依赖并递归解析
3. 完成模块编译：编译完所有模块并得到模块之间的依赖关系图
### 1-3、生成产物
1. 输出资源（`seal`）：跟据入口与模块之间的关系将模块组装到 `Chunk` 中
2. 写入文件：根据配置将产物写入文件系统

## 二、插件
Webpack 插件是 Webpack 中重要的概念，插件贯穿整个 Webpack 生命周期。
我们把 Webpack 构建的过程看作是一个生产流水线，流水线的输入是我们的项目源文件，而输出则是最终打包生成的文件。
那么插件就可以看作是这条流水线上面的各个处理节点，比如处理文件压缩，代码分割等等。
这样以来，想要扩展 Webpack 功能就容易很多，可以创建一个自定义插件，并注册到特定的生命周期，就像在一条流水线的某个位置加入一个新的处理机器一样，它可以接受到这个节点位置的一些中间产物等信息，就像是流水线中尚未处理完成的物品一样。
有时，我们想要扩展 Webpack 的功能，那么我们就可以在特定的节点加入我们的插件，就像是在流水线的某个位置新加入一个处理节点一样，正在这个节点位置我们可以接收到生产过程中的一些产物，我们的插件可以改变或者不改变这些产物，这取决于我们的需求。